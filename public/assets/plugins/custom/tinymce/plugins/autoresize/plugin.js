!function(){"use strict";var e=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},r=function(e,t,n,o,u){i.setEditorTimeout(e,function(){s(e,t),n--?r(e,t,n,o,u):u&&u()},o)},u=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},a=function(e,t,n,i){var o=parseInt(e.getStyle(t,n,i),10);return isNaN(o)?0:o},s=function(e,t){var i,r,f,c=e.dom,g=e.getDoc();if(g)if(function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}(e))u(e,!0);else{var l=g.documentElement,m=function(e){return e.getParam("autoresize_bottom_margin",50,"number")}(e);r=o(e);var d=a(c,l,"margin-top",!0),h=a(c,l,"margin-bottom",!0);(f=l.offsetHeight+d+h+m)<0&&(f=0);var v=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;f+v>o(e)&&(r=f+v);var y=function(e){return e.getParam("max_height",0,"number")}(e);if(y&&r>y?(r=y,u(e,!0)):u(e,!1),r!==t.get()){if(i=r-t.get(),c.setStyle(e.getContainer(),"height",r+"px"),t.set(r),function(e){e.fire("ResizeEditor")}(e),n.browser.isSafari()&&n.mac){var p=e.getWin();p.scrollTo(p.pageXOffset,p.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),n.webkit&&i<0&&s(e,t)}}},f=function(e,t){e.on("init",function(){var t=function(e){return e.getParam("autoresize_overflow_padding",1,"number")}(e),n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"}),n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){s(e,t)}),function(e){return e.getParam("autoresize_on_init",!0,"boolean")}(e)&&e.on("init",function(){r(e,t,20,100,function(){r(e,t,5,1e3)})})},c=function(e,t){e.addCommand("mceAutoResize",function(){s(e,t)})};t.add("autoresize",function(t){if(t.settings.hasOwnProperty("resize")||(t.settings.resize=!1),!t.inline){var n=e(0);c(t,n),f(t,n)}})}();